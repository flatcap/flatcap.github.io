---
layout: concertina
title: New Mail
description: Execute a command upon the receipt of new mail.
since: 2016-07-23
status: stable
---
{% raw %}
<div class="chapter">
  <div class="titlepage">
    <div>
      <div>
        <h1 class="title">
        <a class="offset" id="feature/new-mail"></a>New Mail Feature</h1>
      </div>
      <div>
        <h3 class="subtitle">
          <em>Execute a command upon the receipt of new mail.</em>
        </h3>
      </div>
    </div>
  </div>
  <div class="sect1">
    <div class="titlepage">
      <div>
        <div>
          <h2 class="title" style="clear: both">
          <a class="offset" id="support"></a>1.&#160;Support</h2>
        </div>
      </div>
    </div>
    <p>
    <span class="bold">
      <strong>Since:</strong>
    </span>NeoMutt 2016-07-23</p>
    <p>
    <span class="bold">
      <strong>Dependencies:</strong>
    </span>None</p>
  </div>
  <div class="sect1">
    <div class="titlepage">
      <div>
        <div>
          <h2 class="title" style="clear: both">
          <a class="offset" id="intro"></a>2.&#160;Introduction</h2>
        </div>
      </div>
    </div>
    <p>This feature enables the new_mail_command setting, which can be used to execute a custom script (e.g. a notification handler) upon receiving a new mail.</p>
    <p>The command string can contain expandos, such as
    <code class="literal">%n</code> for the number of new messages. For a complete list, see:
    <a class="link" href="/guide/reference.html#status-format" title="3.374.&#160;status_format">$status_format</a>.</p>
    <div class="note">
      <h3 class="title">Note</h3>
      <p>When the notification is sent, the folder of the new mail is no longer known. This is a limitation of NeoMutt. The `%f` expando will show the open folder.</p>
    </div>
    <p>For example in Linux you can use (most distributions already provide notify-send):</p>
    <pre class="screen">
set new_mail_command="notify-send --icon='/home/santiago/Pictures/neomutt.png' 'New Email' '%n new messages, %u unread.' &amp;"
</pre>
    <p>And in OS X you will need to install a command line interface for Notification Center, for example
    <a class="ulink" href="https://github.com/julienXX/terminal-notifier" target="_top">terminal-notifier</a>:</p>
    <pre class="screen">
set new_mail_command="terminal-notifier -title '%v' -subtitle 'New Mail' -message '%n new messages, %u unread.' -activate 'com.apple.Terminal'"
</pre>
  </div>
  <div class="sect1">
    <div class="titlepage">
      <div>
        <div>
          <h2 class="title" style="clear: both">
          <a class="offset" id="variables"></a>3.&#160;Variables</h2>
        </div>
      </div>
    </div>
    <div >
      <a class="offset" id="table-new-mail-variables"></a>
      <p class="title">
        <strong>Table&#160;23.1.&#160;New Mail Command Variables</strong>
      </p>
      <div class="table-contents">
        <table summary="New Mail Command Variables" border="1">
          <colgroup>
            <col />
            <col />
            <col />
          </colgroup>
          <thead>
            <tr>
              <th>Name</th>
              <th>Type</th>
              <th>Default</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <code class="literal">new_mail_command</code>
              </td>
              <td>string</td>
              <td>(empty)</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <br class="table-break" />
  </div>
  <div class="sect1">
    <div class="titlepage">
      <div>
        <div>
          <h2 class="title" style="clear: both">
          <a class="offset" id="neomuttrc"></a>4.&#160;neomuttrc</h2>
        </div>
      </div>
    </div>
    <pre class="screen">
<span class="comment"># Example NeoMutt config file for the new-mail feature.

# --------------------------------------------------------------------------
# VARIABLES - shown with their default values
# --------------------------------------------------------------------------
# Set the command you want NeoMutt to execute upon the receipt of a new email</span>
set new_mail_command = ""
<span class="comment"># Linux example:
# set new_command="notify-send --icon='/home/santiago/Pictures/neomutt.png' 'New Email in %f' '%n new messages, %u unread.' &amp;"
# OS X example:
# set new_mail_command="terminal-notifier -title '%v' -subtitle 'New Mail in %f' -message '%n new messages, %u unread.' -activate 'com.apple.Terminal'"
# --------------------------------------------------------------------------
# vim: syntax=neomuttrc</span>
</pre>
  </div>
  <div class="sect1">
    <div class="titlepage">
      <div>
        <div>
          <h2 class="title" style="clear: both">
          <a class="offset" id="see-also"></a>5.&#160;See Also</h2>
        </div>
      </div>
    </div>
    <div class="itemizedlist">
      <ul class="itemizedlist" style="list-style-type: disc;">
        <li class="listitem">
          <p>
            <a class="link" href="/guide/configuration.html#folder-hook" title="7.&#160;Setting Variables Based Upon Mailbox">folder-hook</a>
          </p>
        </li>
      </ul>
    </div>
  </div>
  <div class="sect1">
    <div class="titlepage">
      <div>
        <div>
          <h2 class="title" style="clear: both">
          <a class="offset" id="known-bugs"></a>6.&#160;Known Bugs</h2>
        </div>
      </div>
    </div>
    <p>None</p>
  </div>
  <div class="sect1">
    <div class="titlepage">
      <div>
        <div>
          <h2 class="title" style="clear: both">
          <a class="offset" id="credits"></a>7.&#160;Credits</h2>
        </div>
      </div>
    </div>
    <div class="itemizedlist">
      <ul class="itemizedlist" style="list-style-type: disc;">
        <li class="listitem">
          <p>Yoshiki Vazquez-Baeza
          <code class="email">&lt;
          <a class="email" href="mailto:yoshiki@ucsd.edu">yoshiki@ucsd.edu</a>&gt;</code></p>
        </li>
        <li class="listitem">
          <p>Santiago Torres-Arias
          <code class="email">&lt;
          <a class="email" href="mailto:santiago@nyu.edu">santiago@nyu.edu</a>&gt;</code></p>
        </li>
        <li class="listitem">
          <p>Richard Russon
          <code class="email">&lt;
          <a class="email" href="mailto:rich@flatcap.org">rich@flatcap.org</a>&gt;</code></p>
        </li>
      </ul>
    </div>
  </div>
</div>
{% endraw %}
